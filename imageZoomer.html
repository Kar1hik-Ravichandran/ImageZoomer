<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ultra-Zoom Image Viewer ðŸ“¸</title>
    <style>
      :root {
        --primary: #4caf50;
        --danger: #ff6347;
        --bg-light: #f7f9fc;
        --bg-dark: #121212;
        --card-light: rgba(255, 255, 255, 0.75);
        --card-dark: rgba(40, 40, 40, 0.85);
        --text-light: #000;
        --text-dark: #fff;
      }

      body {
        margin: 0;
        font-family: "Segoe UI", sans-serif;
        background: var(--bg-light);
        color: var(--text-light);
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        transition: background 0.3s, color 0.3s;
      }

      .dark-mode {
        background: var(--bg-dark);
        color: var(--text-dark);
      }

      .container {
        backdrop-filter: blur(16px) saturate(180%);
        -webkit-backdrop-filter: blur(16px) saturate(180%);
        background-color: var(--card-light);
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        text-align: center;
        width: 90%;
        max-width: 700px;
        transition: background-color 0.3s;
      }

      .dark-mode .container {
        background-color: var(--card-dark);
      }

      h1 {
        font-size: 36px;
        margin-bottom: 20px;
      }

      input {
        padding: 15px;
        width: 70%;
        border-radius: 12px;
        border: 2px solid #ccc;
        font-size: 18px;
        margin-bottom: 20px;
        outline: none;
        transition: border 0.2s;
      }

      input:focus {
        border-color: var(--primary);
      }

      button {
        padding: 12px 25px;
        background-color: var(--primary);
        color: white;
        font-size: 18px;
        border-radius: 12px;
        border: none;
        cursor: pointer;
        margin-left: 10px;
        transition: background-color 0.2s;
      }

      button:hover {
        background-color: #388e3c;
      }

      .image-container {
        margin-top: 25px;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #image {
        max-width: 100%;
        max-height: 80vh;
        cursor: zoom-in;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s ease;
      }

      .image-fullscreen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: #000;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .fullscreen-image-container {
        width: 100%;
        height: 100%;
        position: relative;
        cursor: grab;
      }

      .fullscreen-image-container:active {
        cursor: grabbing;
      }

      .fullscreen-image {
        position: absolute;
        top: 50%;
        left: 50%;
        max-width: none;
        max-height: none;
        transform: translate(-50%, -50%) scale(1);
        transition: transform 0.3s ease;
        user-select: none;
        pointer-events: none;
      }

      .back-btn {
        position: absolute;
        top: 20px;
        left: 20px;
        padding: 10px 20px;
        background-color: var(--danger);
        color: white;
        font-size: 16px;
        border: none;
        border-radius: 10px;
        z-index: 10000;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
      }

      .theme-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 10px 20px;
        background-color: #333;
        color: white;
        border-radius: 10px;
        font-size: 14px;
        cursor: pointer;
        border: none;
      }

      .loading-text {
        margin-top: 15px;
        font-style: italic;
        color: #999;
      }
    </style>
  </head>
  <body>
    <button class="theme-toggle" onclick="toggleTheme()">
      ðŸŒ“ Toggle Theme
    </button>

    <div class="container">
      <h1>Ultra-Zoom Image Viewer ðŸ“¸</h1>
      <p>Enter an image URL to explore it in detail:</p>
      <input
        type="text"
        id="imageUrl"
        placeholder="https://example.com/image.jpg"
      />
      <button id="loadImageBtn">Load</button>
      <div id="loadingText" class="loading-text"></div>
      <div id="imageContainer" class="image-container"></div>
    </div>

    <script>
      const loadBtn = document.getElementById("loadImageBtn");
      const imageContainer = document.getElementById("imageContainer");
      const loadingText = document.getElementById("loadingText");

      loadBtn.addEventListener("click", () => {
        const imageUrl = document.getElementById("imageUrl").value.trim();
        if (!imageUrl) {
          alert("Please enter an image URL!");
          return;
        }

        loadingText.textContent = "Loading image...";
        const img = new Image();
        img.id = "image";
        img.src = imageUrl;
        img.alt = "Zoomable Image";

        img.onload = () => {
          loadingText.textContent = "";
          imageContainer.innerHTML = "";
          img.addEventListener("click", () => openFullScreen(img));
          imageContainer.appendChild(img);
        };

        img.onerror = () => {
          loadingText.textContent = "";
          alert("Failed to load image. Please check the URL.");
        };
      });

      function openFullScreen(img) {
        const fullscreenContainer = document.createElement("div");
        fullscreenContainer.classList.add("image-fullscreen");

        const backBtn = document.createElement("button");
        backBtn.className = "back-btn";
        backBtn.textContent = "Close";
        backBtn.onclick = () => document.body.removeChild(fullscreenContainer);

        const wrapper = document.createElement("div");
        wrapper.className = "fullscreen-image-container";

        const fullscreenImg = document.createElement("img");
        fullscreenImg.className = "fullscreen-image";
        fullscreenImg.src = img.src;

        wrapper.appendChild(fullscreenImg);
        fullscreenContainer.appendChild(backBtn);
        fullscreenContainer.appendChild(wrapper);
        document.body.appendChild(fullscreenContainer);

        let isZoomed = false,
          isDragging = false;
        let startX = 0,
          startY = 0;
        let offsetX = 0,
          offsetY = 0,
          moved = false;

        wrapper.addEventListener("mousedown", (e) => {
          if (!isZoomed) return;
          isDragging = true;
          moved = false;
          startX = e.clientX;
          startY = e.clientY;
        });

        wrapper.addEventListener("mousemove", (e) => {
          if (!isZoomed || !isDragging) return;
          moved = true;
          offsetX += e.clientX - startX;
          offsetY += e.clientY - startY;
          fullscreenImg.style.transform = `translate(calc(-50% + ${offsetX}px), calc(-50% + ${offsetY}px)) scale(5)`;
          startX = e.clientX;
          startY = e.clientY;
        });

        wrapper.addEventListener("mouseup", () => (isDragging = false));
        wrapper.addEventListener("mouseleave", () => (isDragging = false));

        wrapper.addEventListener("touchstart", (e) => {
          if (!isZoomed) return;
          isDragging = true;
          const touch = e.touches[0];
          startX = touch.clientX;
          startY = touch.clientY;
        });

        wrapper.addEventListener("touchmove", (e) => {
          if (!isZoomed || !isDragging) return;
          const touch = e.touches[0];
          offsetX += touch.clientX - startX;
          offsetY += touch.clientY - startY;
          fullscreenImg.style.transform = `translate(calc(-50% + ${offsetX}px), calc(-50% + ${offsetY}px)) scale(5)`;
          startX = touch.clientX;
          startY = touch.clientY;
        });

        wrapper.addEventListener("touchend", () => (isDragging = false));

        wrapper.addEventListener("click", () => {
          if (moved) return;
          isZoomed = !isZoomed;
          if (isZoomed) {
            offsetX = offsetY = 0;
            fullscreenImg.style.transform = `translate(-50%, -50%) scale(5)`;
          } else {
            fullscreenImg.style.transform = `translate(-50%, -50%) scale(1)`;
          }
        });
      }

      function toggleTheme() {
        document.body.classList.toggle("dark-mode");
      }
    </script>
  </body>
</html>
